<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ソニックレーシングCW 構成ツール　V2.0</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <h1>Sonic Racing CW 構成ツール V2.0</h1>

    <div id="app-container">
        
        <div id="page-main">
            <div class="container">
                
                <div style="text-align: right; margin-bottom: 10px;">
                    <button onclick="showPage('ranking')" style="background-color: #ff9800; padding: 8px 15px; border-radius: 20px;">
                        🏆 Top50 ランキングを見る
                    </button>
                </div>

                <div class="card">
                    <h4 style="margin: 0 0 10px 0; color:#555;">基本構成 (Character & Machine)</h4>
                    <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                        <div style="flex: 1; min-width: 200px;">
                            <label>1. キャラクター</label>
                            <select id="charSelect" onchange="updateCharMachineInfo()" style="width:100%; padding:8px;">
                                <option value="" disabled selected>選択してください</option>
                            </select>
                        </div>
                        <div style="flex: 2; min-width: 300px;">
                            <label>2. マシンタイプ</label>
                            <select id="machineTypeSelect" onchange="changeMachineType()" style="width:100%; padding:8px;">
                                <option value="" disabled selected>タイプを選択</option>
                                <option value="スピード">スピード (3パーツ)</option>
                                <option value="アクセル">アクセル (3パーツ)</option>
                                <option value="ハンドリング">ハンドリング (3パーツ)</option>
                                <option value="パワー">パワー (3パーツ)</option>
                                <option value="ダッシュ">ダッシュ (2パーツ/タイヤなし)</option>
                            </select>
                            
                            <div style="display: flex; gap: 5px; margin-top:5px;">
                                <select id="part1Select" disabled style="flex:1;"><option>フロント</option></select>
                                <select id="part2Select" disabled style="flex:1;"><option>リア</option></select>
                                <select id="part3Select" disabled style="flex:1;"><option>タイヤ</option></select>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 15px; background: #e3f2fd; padding: 10px; text-align: center; border-radius: 4px;">
                        <strong>🏁 ステータス目安</strong>
                        <div id="totalStats" style="color:#0055ff; margin-top:5px;">🚀 - ⚡ - 🌀 - 💪 - ⏩ -</div>
                    </div>
                </div>

                <div class="card">
                    <h3>ガジェット構成</h3>
                    
                    <div class="row-container">
                        <div class="row-label">
                            <span>上段 (Upper)</span>
                            <span>Cost: <span id="costUpper">0</span>/3</span>
                        </div>
                        <div class="visual-row" id="visualUpper"></div>
                    </div>

                    <div class="row-container">
                        <div class="row-label">
                            <span>下段 (Lower)</span>
                            <span>Cost: <span id="costLower">0</span>/3</span>
                        </div>
                        <div class="visual-row" id="visualLower"></div>
                    </div>

                    <div class="controls">
                        <select id="gadgetSelect" onchange="showGadgetDescription()" style="width: 100%; padding: 8px; margin-bottom: 10px;">
                            <option value="" disabled selected>ガジェットを選択してください</option>
                        </select>
                        
                        <div style="display:flex; gap:10px;">
                            <button class="btn-add" onclick="tryAddGadget()">⬇️ 追加</button>
                            <button class="btn-reset" onclick="resetCurrent()">🗑️ リセット</button>
                        </div>
                        
                        <div id="gadgetDescPreview" style="margin-top:10px; padding:10px; background:#f1f8ff; min-height:60px; font-size:0.9rem;">
                            （ここに効果が表示されます）
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>保存と共有</h3>
                    <div style="display:flex; gap:10px;">
                        <input type="text" id="memoTitle" placeholder="構成名を入力" style="flex-grow:1; padding:5px;">
                        <button class="btn-save" onclick="saveMemo()">保存</button>
                    </div>
                    <div id="memoList" class="memo-list"></div>
                </div>

            </div>
        </div>
        
        <div id="page-ranking" style="display: none;">
            <div class="container">
                <button onclick="showPage('main')" style="margin-bottom:15px; background:#666; padding:8px 15px;">↩️ 戻る</button>
                <div class="card">
                    <h2>🏆 Top50 分析</h2>
                    <div id="rank-content">
                        <p>（ここにランキングデータが表示されます）</p>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script src="data.js"></script>
    <script src="script.js"></script>

</body>
</html>
